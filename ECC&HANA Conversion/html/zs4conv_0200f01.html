<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=KSC5601" />
<title>ZS4CONV_0200F01</title>
<style type="text/css">
.code{ font-family:"Courier New", Courier, monospace; color:#000; font-size:14px; background-color:#F2F4F7 }
  .codeComment {font-family:"Courier New", Courier, monospace; color:#0000F0; font-size:14px; background-color:#F2F4F7 }
  .normalBold{ font-family:Arial, Helvetica, sans-serif; color:#000; font-size:12px; font-weight:800 }
  .normalBoldLarge{ font-family:Arial, Helvetica, sans-serif; color:#000; font-size:16px; font-weight:800 }
</style>
<style type="text/css">
  .normal{ font-family:Arial, Helvetica, sans-serif; color:#000; font-size:12px }
  .footer{ font-family:Arial, Helvetica, sans-serif; color:#000; font-size:12px; text-align: center }
  h2{ font-family:Arial, Helvetica, sans-serif; color:#000; font-size:16px; font-weight:800 }
  h3{ font-family:Arial, Helvetica, sans-serif; color:#000; font-size:14px; font-weight:800 }
  .outerTable{
   background-color:#E0E7ED;
   width:100%;
   border-top-width: thin;
   border-right-width: thin;
   border-right-width: thin;
   border-left-width: thin;
   border-top-style: solid;
   border-right-style: solid;
   border-bottom-style: solid;
   border-left-style: solid;
  }
  .innerTable{
   background-color:#F2F4F7;
   width:100%;
   border-top-width: thin;
   border-right-width: thin;
   border-bottom-width: thin;
   border-left-width: thin;
   border-top-style: solid;
   border-right-style: solid;
   border-bottom-style: solid;
   border-left-style: solid;
  }
</style>
</head>
<body>
<table class="outerTable">
  <tr class="normalBoldLarge">
     <td><h2>Code listing for: ZS4CONV_0200F01</h2>
<h3> Description: </h3></td>
   </tr>
  <tr>
     <td>
     <table class="innerTable">
       <tr>
          <td>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;Include&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ZS4CONV_0200F01<br />
*&---------------------------------------------------------------------*<br />
*&---------------------------------------------------------------------*<br />
*&&nbsp;Form&nbsp;initialization<br />
*&---------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM initialization .<br />
<br />
&nbsp;&nbsp;CLEAR&nbsp;:&nbsp;so_def.<br />
<br />
&nbsp;&nbsp;gsel_fkey-icon_id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;icon_settings.<br />
&nbsp;&nbsp;gsel_fkey-icon_text&nbsp;&nbsp;&nbsp;=&nbsp;TEXT-i01.<br />
&nbsp;&nbsp;gsel_fkey-text&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;TEXT-t01.<br />
&nbsp;&nbsp;sscrfields-functxt_01&nbsp;=&nbsp;gsel_fkey.<br />
<br />
&nbsp;&nbsp;so_def[]&nbsp;=&nbsp;VALUE&nbsp;#(<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&nbsp;sign&nbsp;=&nbsp;'I'&nbsp;option&nbsp;=&nbsp;'EQ'&nbsp;low&nbsp;=&nbsp;'CTS1~~'&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&nbsp;sign&nbsp;=&nbsp;'I'&nbsp;option&nbsp;=&nbsp;'EQ'&nbsp;low&nbsp;=&nbsp;'CTS2~~'&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&nbsp;sign&nbsp;=&nbsp;'I'&nbsp;option&nbsp;=&nbsp;'EQ'&nbsp;low&nbsp;=&nbsp;'CTS3~~'&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&nbsp;sign&nbsp;=&nbsp;'I'&nbsp;option&nbsp;=&nbsp;'EQ'&nbsp;low&nbsp;=&nbsp;'CTS4~~'&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&nbsp;sign&nbsp;=&nbsp;'I'&nbsp;option&nbsp;=&nbsp;'EQ'&nbsp;low&nbsp;=&nbsp;'CTS5~~'&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&nbsp;sign&nbsp;=&nbsp;'I'&nbsp;option&nbsp;=&nbsp;'EQ'&nbsp;low&nbsp;=&nbsp;'CTS6~~'&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&nbsp;sign&nbsp;=&nbsp;'I'&nbsp;option&nbsp;=&nbsp;'EQ'&nbsp;low&nbsp;=&nbsp;'CTS7~~'&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br />
<br />
&nbsp;&nbsp;PERFORM&nbsp;set_devclass&nbsp;CHANGING&nbsp;gt_devclass.<br />
<br />
ENDFORM.<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;Form&nbsp;set_devclass<br />
*&---------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM set_devclass  CHANGING pt_devclass TYPE gty_t_devclass.<br />
<br />
&nbsp;&nbsp;CLEAR&nbsp;:&nbsp;pt_devclass[].<br />
&nbsp;&nbsp;DEFINE&nbsp;__append.<br />
&nbsp;&nbsp;&nbsp;&nbsp;APPEND&nbsp;VALUE&nbsp;#(&nbsp;devclass&nbsp;&nbsp;=&nbsp;&1<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;developer&nbsp;=&nbsp;&2&nbsp;)&nbsp;TO&nbsp;pt_devclass.<br />
&nbsp;&nbsp;END-OF-DEFINITION.<br />
<br />
&nbsp;&nbsp;__append&nbsp;:<br />
&nbsp;&nbsp;,&nbsp;&nbsp;'pak이름1'&nbsp;&nbsp;'담당이름1'<br />
&nbsp;&nbsp;,&nbsp;&nbsp;'pak이름2'&nbsp;&nbsp;'담당이름2'<br />
&nbsp;&nbsp;,&nbsp;&nbsp;'pak이름3'&nbsp;&nbsp;'담당이름3'<br />
&nbsp;&nbsp;,&nbsp;&nbsp;'pak이름4'&nbsp;&nbsp;'담당이름4'<br />
&nbsp;&nbsp;,&nbsp;&nbsp;'pak이름5'&nbsp;&nbsp;'담당이름5'<br />
&nbsp;&nbsp;,&nbsp;&nbsp;'pak이름6'&nbsp;&nbsp;'담당이름6'<br />
&nbsp;&nbsp;,&nbsp;&nbsp;'pak이름7'&nbsp;&nbsp;'담당이름7'<br />
&nbsp;&nbsp;,&nbsp;&nbsp;'pak이름8'&nbsp;&nbsp;'담당이름8'<br />
&nbsp;&nbsp;,&nbsp;&nbsp;'pak이름9'&nbsp;&nbsp;'담당이름9'.<br />
<br />
ENDFORM.<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;Form&nbsp;set_fkey<br />
*&---------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM set_fkey  CHANGING pv_subrc.<br />
&nbsp;&nbsp;CASE&nbsp;sscrfuekds-ucomm.<br />
&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'FC01'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PERFORM&nbsp;get_list&nbsp;CHANGING&nbsp;pv_subrc.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PERFORM&nbsp;show_list.<br />
&nbsp;&nbsp;ENDCASE.<br />
&nbsp;&nbsp;pv_subrc&nbsp;=&nbsp;sy-subrc.<br />
&nbsp;&nbsp;CHECK&nbsp;pv_subrc&nbsp;IS&nbsp;INITIAL.<br />
ENDFORM.<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;Form&nbsp;get_list<br />
*&---------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM get_list  CHANGING p_pv_subrc.<br />
<br />
&nbsp;&nbsp;WITH&nbsp;+group&nbsp;AS&nbsp;(&nbsp;SELECT&nbsp;log_date<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;log_time<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;zs4_req_cts<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GROUP&nbsp;BY&nbsp;log_date,&nbsp;log_time<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ORDER&nbsp;BY&nbsp;log_date&nbsp;DESCENDING,&nbsp;log_time&nbsp;DESCENDING<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UP&nbsp;TO&nbsp;5&nbsp;ROWS<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br />
&nbsp;&nbsp;&nbsp;SELECT&nbsp;d~log_name<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;d~log_date<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;d~log_time<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;d~log_system<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;d~log_trkorr<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;zs4_req_cts&nbsp;AS&nbsp;d<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JOIN&nbsp;+group&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AS&nbsp;g<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ON&nbsp;g~log_date&nbsp;EQ&nbsp;d~log_date<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;g~log_time&nbsp;EQ&nbsp;d~log_time<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTO&nbsp;CORRESPONDING&nbsp;FIELDS&nbsp;OF&nbsp;TABLE&nbsp;@gt_dialg.<br />
<br />
&nbsp;&nbsp;MOVE-CORRESPONDING&nbsp;gt_dialog&nbsp;TO&nbsp;gt_gdialog.<br />
&nbsp;&nbsp;SORT&nbsp;gt_gdialog&nbsp;BY&nbsp;log_name&nbsp;DESCENDING<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;log_date&nbsp;DESCENDING<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;log_time&nbsp;DESCENDING.<br />
&nbsp;&nbsp;DELETE&nbsp;ADJACENT&nbsp;DUPLICATES&nbsp;FROM&nbsp;gt_gdialog&nbsp;COMPARING&nbsp;log_name<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;log_date<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;log_time.<br />
<br />
&nbsp;&nbsp;pv_subrc&nbsp;=&nbsp;sy-subrc.<br />
&nbsp;&nbsp;CHECK&nbsp;&nbsp;pv_subrc&nbsp;IS&nbsp;INITIAL.<br />
<br />
ENDFORM.<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;Form&nbsp;show_list<br />
*&---------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM show_list .<br />
&nbsp;&nbsp;CALL&nbsp;SCREEN&nbsp;0200&nbsp;STARTING&nbsp;AT&nbsp;10&nbsp;5&nbsp;ENDING&nbsp;AT&nbsp;62&nbsp;10.<br />
ENDFORM.<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;Module&nbsp;CREATE_DIALOG_0200&nbsp;OUTPUT<br />
*&---------------------------------------------------------------------*<br />
   </div>
   <div class="code">
MODULE create_dialog_0200 OUTPUT.<br />
<br />
&nbsp;&nbsp;IF&nbsp;go_dialog_con&nbsp;IS&nbsp;NOT&nbsp;BOUND.<br />
&nbsp;&nbsp;&nbsp;&nbsp;CREATE&nbsp;OBJECT&nbsp;go_dialog_con<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EXPORTING<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;container_name&nbsp;=&nbsp;gc_dia1.<br />
&nbsp;&nbsp;&nbsp;&nbsp;CREATE&nbsp;OBJECT&nbsp;go_dia_grid<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EXPORTING<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i_parent&nbsp;=&nbsp;go_dialog_con.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;PERFORM&nbsp;get_dia_layo&nbsp;&nbsp;CHANGING&nbsp;gs_layo.<br />
&nbsp;&nbsp;&nbsp;&nbsp;PERFORM&nbsp;get_fieldcat&nbsp;&nbsp;USING&nbsp;gt_gdialog<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CHANGING&nbsp;gt_fcat.<br />
&nbsp;&nbsp;&nbsp;&nbsp;PERFORM&nbsp;make_dia_fcat&nbsp;USING&nbsp;gt_fcat.<br />
&nbsp;&nbsp;&nbsp;&nbsp;PERFORM&nbsp;set_dia_event&nbsp;CHANGING&nbsp;go_dia_grid.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;go_dia_grid-&gt;set_table_for_first_display(<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EXPORTING<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is_layout&nbsp;=&nbsp;gs_layo<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CHANGING<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;it_outtab&nbsp;=&nbsp;gt_gdialog<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;it_fieldcatalog&nbsp;=&nbsp;gt_fcat&nbsp;).<br />
<br />
&nbsp;&nbsp;ENDIF.<br />
<br />
ENDMODULE.<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;Form&nbsp;get_data<br />
*&---------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM get_data  CHANGING pv_subrc.<br />
<br />
&nbsp;&nbsp;DATA&nbsp;:&nbsp;lr_object&nbsp;TYPE&nbsp;RANGE&nbsp;OF&nbsp;e071-object.<br />
<br />
&nbsp;&nbsp;IF&nbsp;(<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&nbsp;so_ecc&nbsp;&nbsp;IS&nbsp;INITIAL&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;OR&nbsp;(&nbsp;so_hana&nbsp;IS&nbsp;INITIAL&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;OR&nbsp;(&nbsp;so_def&nbsp;&nbsp;IS&nbsp;INITIAL&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br />
&nbsp;&nbsp;&nbsp;&nbsp;MESSAGE&nbsp;s003&nbsp;DISPLAY&nbsp;LIKE&nbsp;'E'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LEAVE&nbsp;LIST-PROCESSING.<br />
&nbsp;&nbsp;ENDIF.<br />
<br />
&nbsp;&nbsp;CLEAR&nbsp;:&nbsp;gt_ecc,&nbsp;gt_hana.<br />
<br />
   </div>
   <div class="codeComment">
*&nbsp;LOG<br />
   </div>
   <div class="code">
&nbsp;&nbsp;PERFORM&nbsp;save_log&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CHANGING&nbsp;pv_subrc.<br />
<br />
   </div>
   <div class="codeComment">
*&nbsp;CHECKBOX<br />
   </div>
   <div class="code">
&nbsp;&nbsp;PERFORM&nbsp;set_checkbox&nbsp;CHANGING&nbsp;lr_object.<br />
<br />
   </div>
   <div class="codeComment">
*&nbsp;ECC<br />
   </div>
   <div class="code">
&nbsp;&nbsp;PERFORM&nbsp;select_ecc&nbsp;&nbsp;&nbsp;USING&nbsp;lr_object<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CHANGING&nbsp;pv_subrc.<br />
&nbsp;&nbsp;"&nbsp;ECC에서&nbsp;DEV&nbsp;결정한&nbsp;상태로&nbsp;가정후&nbsp;작성<br />
   </div>
   <div class="codeComment">
*&nbsp;HANA&nbsp;"&nbsp;DEV&nbsp;없이&nbsp;조건절&nbsp;데이터&nbsp;가져오기<br />
   </div>
   <div class="code">
&nbsp;&nbsp;PERFORM&nbsp;select_hana&nbsp;&nbsp;USING&nbsp;lr_object<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CHANGING&nbsp;pv_subrc.<br />
<br />
ENDFORM.<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;Form&nbsp;save_log<br />
*&---------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM save_log CHANGING pv_subrc.<br />
<br />
&nbsp;&nbsp;TYPES&nbsp;:&nbsp;BEGIN&nbsp;OF&nbsp;lty_s_range<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;sign&nbsp;&nbsp;&nbsp;TYPE&nbsp;c&nbsp;LENGTH&nbsp;1<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;option&nbsp;TYPE&nbsp;c&nbsp;LENGTH&nbsp;2<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;low&nbsp;&nbsp;&nbsp;&nbsp;TYPE&nbsp;e071-trkorr<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;high&nbsp;&nbsp;&nbsp;TYPE&nbsp;e071-trkorr<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;END&nbsp;OF&nbsp;lty_s_range.<br />
<br />
&nbsp;&nbsp;FIELD-SYMBOLS&nbsp;&lt;fs_req&gt;&nbsp;TYPE&nbsp;lty_s_range.<br />
&nbsp;&nbsp;DATA&nbsp;:&nbsp;ls_log&nbsp;TYPE&nbsp;zs4_req_cts.<br />
<br />
&nbsp;&nbsp;DATA(lv_status)&nbsp;=&nbsp;|{&nbsp;COND&nbsp;string(&nbsp;WHEN&nbsp;pa_func&nbsp;=&nbsp;'X'&nbsp;THEN&nbsp;'X'&nbsp;ELSE&nbsp;space&nbsp;)&nbsp;WIDTH&nbsp;=&nbsp;1&nbsp;}|<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&&nbsp;|{&nbsp;COND&nbsp;string(&nbsp;WHEN&nbsp;pa_reps&nbsp;=&nbsp;'X'&nbsp;THEN&nbsp;'X'&nbsp;ELSE&nbsp;space&nbsp;)&nbsp;WIDTH&nbsp;=&nbsp;1&nbsp;}|<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&&nbsp;|{&nbsp;COND&nbsp;string(&nbsp;WHEN&nbsp;pa_wapp&nbsp;=&nbsp;'X'&nbsp;THEN&nbsp;'X'&nbsp;ELSE&nbsp;space&nbsp;)&nbsp;WIDTH&nbsp;=&nbsp;1&nbsp;}|<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&&nbsp;|{&nbsp;COND&nbsp;string(&nbsp;WHEN&nbsp;pa_meth&nbsp;=&nbsp;'X'&nbsp;THEN&nbsp;'X'&nbsp;ELSE&nbsp;space&nbsp;)&nbsp;WIDTH&nbsp;=&nbsp;1&nbsp;}|<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&&nbsp;|{&nbsp;COND&nbsp;string(&nbsp;WHEN&nbsp;pa_prog&nbsp;=&nbsp;'X'&nbsp;THEN&nbsp;'X'&nbsp;ELSE&nbsp;space&nbsp;)&nbsp;WIDTH&nbsp;=&nbsp;1&nbsp;}|<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&&nbsp;|{&nbsp;COND&nbsp;string(&nbsp;WHEN&nbsp;pa_fugr&nbsp;=&nbsp;'X'&nbsp;THEN&nbsp;'X'&nbsp;ELSE&nbsp;space&nbsp;)&nbsp;WIDTH&nbsp;=&nbsp;1&nbsp;}|.<br />
<br />
&nbsp;&nbsp;DEFINE&nbsp;save_req_log.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;LOOP&nbsp;AT&nbsp;&1&nbsp;ASSIGNING&nbsp;&lt;fs_req&gt;.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_log-log_name&nbsp;=&nbsp;sy-uname.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_log-log_date&nbsp;=&nbsp;sy-datum.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_log-log_time&nbsp;=&nbsp;sy-uzeit.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_log-log_system&nbsp;=&nbsp;&2.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_log-log_trkorr&nbsp;=&nbsp;&lt;fs_req&gt;-low.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_log-log_chk&nbsp;=&nbsp;lv_status.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INSERT&nbsp;zs4_req_cts&nbsp;FROM&nbsp;ls_log.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ENDLOOP.<br />
&nbsp;&nbsp;&nbsp;&nbsp;pv_subrc&nbsp;=&nbsp;sy-subrc.<br />
&nbsp;&nbsp;&nbsp;&nbsp;CHECK&nbsp;pv_subrc&nbsp;IS&nbsp;INITIAL.<br />
&nbsp;&nbsp;END-OF-DEFINITION.<br />
<br />
&nbsp;&nbsp;IF&nbsp;pa_log&nbsp;IS&nbsp;NOT&nbsp;INITIAL.<br />
&nbsp;&nbsp;&nbsp;&nbsp;save_req_log_so_ecc&nbsp;'ECC'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;save_req_log_so_hana&nbsp;'HANA'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;save_req_log_so_def&nbsp;'DEF'.<br />
&nbsp;&nbsp;ENDIF.<br />
<br />
ENDFORM.<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;Form&nbsp;set_checkbox<br />
*&---------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM set_checkbox CHANGING pr_object TYPE STANDARD TABLE.<br />
<br />
&nbsp;&nbsp;DATA&nbsp;:&nbsp;lv_high&nbsp;TYPE&nbsp;c.<br />
&nbsp;&nbsp;CLEAR&nbsp;:&nbsp;pr_object.<br />
<br />
&nbsp;&nbsp;IF&nbsp;pa_func&nbsp;IS&nbsp;NOT&nbsp;INITIAL.<br />
&nbsp;&nbsp;&nbsp;&nbsp;PERFORM&nbsp;set_ranges&nbsp;USING&nbsp;'FUNC'&nbsp;lv_high&nbsp;CHANGING&nbsp;pr_object.<br />
&nbsp;&nbsp;ENDIF.<br />
&nbsp;&nbsp;IF&nbsp;pa_reps&nbsp;IS&nbsp;NOT&nbsp;INITIAL.<br />
&nbsp;&nbsp;&nbsp;&nbsp;PERFORM&nbsp;set_ranges&nbsp;USING&nbsp;'REPS'&nbsp;lv_high&nbsp;CHANGING&nbsp;pr_object.<br />
&nbsp;&nbsp;ENDIF.<br />
&nbsp;&nbsp;IF&nbsp;pa_wapp&nbsp;IS&nbsp;NOT&nbsp;INITIAL.<br />
&nbsp;&nbsp;&nbsp;&nbsp;PERFORM&nbsp;set_ranges&nbsp;USING&nbsp;'WAPP'&nbsp;lv_high&nbsp;CHANGING&nbsp;pr_object.<br />
&nbsp;&nbsp;ENDIF.<br />
&nbsp;&nbsp;IF&nbsp;pa_meth&nbsp;IS&nbsp;NOT&nbsp;INITIAL.<br />
&nbsp;&nbsp;&nbsp;&nbsp;PERFORM&nbsp;set_ranges&nbsp;USING&nbsp;'METH'&nbsp;lv_high&nbsp;CHANGING&nbsp;pr_object.<br />
&nbsp;&nbsp;ENDIF.<br />
&nbsp;&nbsp;IF&nbsp;pa_prog&nbsp;IS&nbsp;NOT&nbsp;INITIAL.<br />
&nbsp;&nbsp;&nbsp;&nbsp;PERFORM&nbsp;set_ranges&nbsp;USING&nbsp;'PROG'&nbsp;lv_high&nbsp;CHANGING&nbsp;pr_object.<br />
&nbsp;&nbsp;ENDIF.<br />
&nbsp;&nbsp;IF&nbsp;pa_fugr&nbsp;IS&nbsp;NOT&nbsp;INITIAL.<br />
&nbsp;&nbsp;&nbsp;&nbsp;PERFORM&nbsp;set_ranges&nbsp;USING&nbsp;'FUGR'&nbsp;lv_high&nbsp;CHANGING&nbsp;pr_object.<br />
&nbsp;&nbsp;ENDIF.<br />
<br />
ENDFORM.<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;Form&nbsp;set_ranges<br />
*&---------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM set_ranges USING    VALUE(pv_low)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VALUE(pv_high)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CHANGING&nbsp;pr_object&nbsp;TYPE&nbsp;STANDARD&nbsp;TABLE.<br />
<br />
&nbsp;&nbsp;DATA&nbsp;:&nbsp;lr_str&nbsp;TYPE&nbsp;REF&nbsp;TO&nbsp;&nbsp;data.<br />
<br />
&nbsp;&nbsp;FIELD-SYMBOLS&nbsp;:&nbsp;&lt;wa&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TYPE&nbsp;any<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;&lt;sign&gt;&nbsp;&nbsp;&nbsp;TYPE&nbsp;any<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;&lt;option&gt;&nbsp;TYPE&nbsp;any<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;&lt;low&gt;&nbsp;&nbsp;&nbsp;&nbsp;TYPE&nbsp;any<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;&lt;high&gt;&nbsp;&nbsp;&nbsp;TYPE&nbsp;any.<br />
<br />
&nbsp;&nbsp;CHECK&nbsp;pv_low&nbsp;IS&nbsp;NOT&nbsp;INITIAL.<br />
&nbsp;&nbsp;CREATE&nbsp;DATA&nbsp;lr_str&nbsp;LIKE&nbsp;LINE&nbsp;OF&nbsp;pr_object.<br />
&nbsp;&nbsp;ASSIGN&nbsp;lr_str-&gt;*&nbsp;TO&nbsp;&lt;wa&gt;.<br />
<br />
&nbsp;&nbsp;ASSIGN&nbsp;COMPONENT&nbsp;'SIGN'&nbsp;&nbsp;&nbsp;OF&nbsp;STRUCTURE&nbsp;&lt;wa&gt;&nbsp;TO&nbsp;&lt;sign&gt;.<br />
&nbsp;&nbsp;ASSIGN&nbsp;COMPONENT&nbsp;'OPTION'&nbsp;OF&nbsp;STRUCTURE&nbsp;&lt;wa&gt;&nbsp;TO&nbsp;&lt;option&gt;.<br />
&nbsp;&nbsp;ASSIGN&nbsp;COMPONENT&nbsp;'LOW'&nbsp;&nbsp;&nbsp;&nbsp;OF&nbsp;STRUCTURE&nbsp;&lt;wa&gt;&nbsp;TO&nbsp;&lt;low&gt;.<br />
&nbsp;&nbsp;ASSIGN&nbsp;COMPONENT&nbsp;'HIGH'&nbsp;&nbsp;&nbsp;OF&nbsp;STRUCTURE&nbsp;&lt;wa&gt;&nbsp;TO&nbsp;&lt;high&gt;.<br />
<br />
&nbsp;&nbsp;&lt;sign&gt;&nbsp;&nbsp;&nbsp;=&nbsp;'I'.<br />
&nbsp;&nbsp;&lt;option&gt;&nbsp;=&nbsp;COND&nbsp;#(&nbsp;WHEN&nbsp;pv_high&nbsp;IS&nbsp;INITIAL&nbsp;THEN&nbsp;'EQ'&nbsp;ELSE&nbsp;'BT'&nbsp;).<br />
&nbsp;&nbsp;&lt;low&gt;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;pv_low.<br />
<br />
&nbsp;&nbsp;IF&nbsp;pv_high&nbsp;IS&nbsp;NOT&nbsp;INITIAL.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&lt;high&gt;&nbsp;=&nbsp;pv_high.<br />
&nbsp;&nbsp;ENDIF.<br />
<br />
&nbsp;&nbsp;APPEND&nbsp;&lt;wa&gt;&nbsp;TO&nbsp;pr_object.<br />
<br />
ENDFORM.<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;Form&nbsp;select_ecc<br />
*&---------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM select_ecc USING    pr_object TYPE STANDARD TABLE<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CHANGING&nbsp;pv_subrc.<br />
<br />
&nbsp;&nbsp;DATA&nbsp;:&nbsp;lt_obj&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TYPE&nbsp;gty_t_obj<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;lt_itab&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TYPE&nbsp;gty_t_itab<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;lt_e_enlfdir&nbsp;TYPE&nbsp;gty_t_enlfdir.<br />
<br />
&nbsp;&nbsp;PERFORM&nbsp;&nbsp;select_lt_obj&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;USING&nbsp;pr_object<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CHANGING&nbsp;lt_obj<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gv_subrc.<br />
<br />
&nbsp;&nbsp;PERFORM&nbsp;select_itab_by_lt_obj&nbsp;&nbsp;&nbsp;USING&nbsp;lt_obj<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CHANGING&nbsp;lt_itab<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv_subrc.<br />
<br />
&nbsp;&nbsp;PERFORM&nbsp;select_base_of_gt_ecc&nbsp;&nbsp;&nbsp;USING&nbsp;pr_object<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CHANGING&nbsp;gt_ecc.<br />
<br />
&nbsp;&nbsp;PERFORM&nbsp;get_prog_dev_in_ecc&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;USING&nbsp;lt_itab<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CHANGING&nbsp;gt_ecc<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv_subrc.<br />
<br />
&nbsp;&nbsp;PERFORM&nbsp;select_fugr_to_func&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;USING&nbsp;pr_object<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CHANGING&nbsp;lt_e_enlfdir.<br />
<br />
&nbsp;&nbsp;PERFORM&nbsp;add_gt_ecc_with_enlfdir&nbsp;USING&nbsp;lt_e_enlfdir<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CHANGING&nbsp;gt_ecc<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv_subrc.<br />
<br />
ENDFORM.<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;Form&nbsp;select_lt_object<br />
*&---------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM select_lt_object USING    pr_object TYPE STANDARD TABLE<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CHANGING&nbsp;pt_obj&nbsp;&nbsp;&nbsp;&nbsp;TYPE&nbsp;gty_t_obj<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv_subrc.<br />
<br />
&nbsp;&nbsp;DATA&nbsp;:&nbsp;lv_space&nbsp;TYPE&nbsp;string&nbsp;VALUE&nbsp;`&nbsp;`.<br />
<br />
&nbsp;&nbsp;CLEAR&nbsp;:&nbsp;pt_obj[].<br />
<br />
&nbsp;&nbsp;SELECT&nbsp;e1~obj_name&nbsp;AS&nbsp;low&nbsp;"&nbsp;WAPP,&nbsp;METH의&nbsp;OBJ_NAME을&nbsp;LOW에&nbsp;담고<br />
&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;e071&nbsp;AS&nbsp;e1<br />
&nbsp;&nbsp;&nbsp;&nbsp;JOIN&nbsp;e070&nbsp;AS&nbsp;e0<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ON&nbsp;e1~trkorr&nbsp;&nbsp;EQ&nbsp;e0~trkorr<br />
&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;e1~trkorr&nbsp;IN&nbsp;@so_ecc<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;e1~object&nbsp;IN&nbsp;@pr_obect<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;e1~pgmid&nbsp;&nbsp;EQ&nbsp;'LIMU'<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;e1~object&nbsp;IN&nbsp;(&nbsp;'WAPP',&nbsp;'METH'&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;INTO&nbsp;CORRESPONDING&nbsp;FIELDS&nbsp;OF&nbsp;TABLE&nbsp;@pt_obj.<br />
<br />
&nbsp;&nbsp;pv_subrc&nbsp;=&nbsp;sy-subrc.<br />
&nbsp;&nbsp;CHECK&nbsp;pv_subrc&nbsp;IS&nbsp;INITIAL.<br />
<br />
&nbsp;&nbsp;LOOP&nbsp;AT&nbsp;pt_obj&nbsp;ASSIGNING&nbsp;FIELD-SYMBOLS(&lt;ps_obj&gt;).&nbsp;"&nbsp;여기서&nbsp;offset을&nbsp;활용해서&nbsp;앞에&nbsp;텍스트만&nbsp;활용<br />
&nbsp;&nbsp;&nbsp;&nbsp;&lt;ps_obj&gt;-obj_name&nbsp;=&nbsp;&lt;ps_obj&gt;-low.<br />
&nbsp;&nbsp;&nbsp;&nbsp;CONDENSE&nbsp;&lt;ps_obj&gt;-obj_name&nbsp;NO-GAPS.<br />
&nbsp;&nbsp;&nbsp;&nbsp;CHECK&nbsp;&lt;ps_obj&gt;low&nbsp;&lt;&gt;&nbsp;&lt;ps_obj&gt;-obj_name.<br />
&nbsp;&nbsp;&nbsp;&nbsp;FIND&nbsp;lv_space&nbsp;IN&nbsp;&lt;ps_obj&gt;-low&nbsp;MATCH&nbsp;OFFSET&nbsp;DATA(offset).<br />
&nbsp;&nbsp;&nbsp;&nbsp;CHECK&nbsp;offset&nbsp;&gt;&nbsp;0.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&lt;ps_obj&gt;-obj_name&nbsp;=&nbsp;&lt;ps_obj&gt;-low(offset).<br />
&nbsp;&nbsp;&nbsp;&nbsp;CLEAR&nbsp;offset.<br />
&nbsp;&nbsp;ENDLOOP.<br />
<br />
ENDFORM.<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;Form&nbsp;select_itab_by_lt_obj<br />
*&---------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM select_itab_by_lt_obj USING    pt_obj  TYPE gty_t_obj<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CHANGING&nbsp;pt_itab&nbsp;TYPE&nbsp;gty_t_itab<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv_subrc.<br />
<br />
&nbsp;&nbsp;pv_subrc&nbsp;=&nbsp;sy-subrc.<br />
&nbsp;&nbsp;CHECK&nbsp;pv_subrc&nbsp;IS&nbsp;INITIAL.<br />
<br />
&nbsp;&nbsp;WITH&nbsp;+base&nbsp;AS&nbsp;(&nbsp;SELECT&nbsp;i~low&nbsp;AS&nbsp;obj_name<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;td~devclass<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;@pt_obj&nbsp;AS&nbsp;i<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LEFT&nbsp;JOIN&nbsp;tadir&nbsp;AS&nbsp;td<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ON&nbsp;i~obj_name&nbsp;EQ&nbsp;td~obj_name<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+func&nbsp;AS&nbsp;(&nbsp;SELECT&nbsp;v~funcname<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;t~devclass<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;v_fdir&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AS&nbsp;v<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LEFT&nbsp;JOIN&nbsp;tadir&nbsp;AS&nbsp;t<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ON&nbsp;v~area&nbsp;EQ&nbsp;t~obj_name<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br />
&nbsp;&nbsp;&nbsp;SELECT&nbsp;DISTINCT&nbsp;b~obj_name<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;CASE&nbsp;WHEN&nbsp;b~devclass&nbsp;IS&nbsp;NOT&nbsp;INITIAL&nbsp;THEN&nbsp;b~devclass<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ELSE&nbsp;f~devclass<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END&nbsp;AS&nbsp;devclass<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;+base&nbsp;&nbsp;&nbsp;&nbsp;AS&nbsp;b<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LEFT&nbsp;JOIN&nbsp;+func&nbsp;AS&nbsp;f<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ON&nbsp;b~obj_name&nbsp;EQ&nbsp;f~funcname<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTO&nbsp;CORRESPONDING&nbsp;FIELDS&nbsp;OF&nbsp;TABLE&nbsp;@pt_itab.<br />
<br />
&nbsp;&nbsp;SORT&nbsp;pt_itab&nbsp;BY&nbsp;obj_name.<br />
<br />
ENDFORM.<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;Form&nbsp;select_base_of_gt_ecc<br />
*&---------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM select_base_of_gt_ecc USING    pr_object TYPE STANDARD TABLE<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CHANGING&nbsp;gt_ecc&nbsp;&nbsp;&nbsp;&nbsp;TYPE&nbsp;gty_t_version.<br />
<br />
&nbsp;&nbsp;WITH&nbsp;+e071&nbsp;AS&nbsp;(&nbsp;SELECT&nbsp;trkorr<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;pgmid<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;object<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;obj_name<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;left(&nbsp;obj_name,&nbsp;(&nbsp;instr(&nbsp;obj_name,&nbsp;'&nbsp;'&nbsp;)&nbsp;-&nbsp;1&nbsp;)&nbsp;)&nbsp;AS&nbsp;sub_objanme<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;e071<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;trkorr&nbsp;IN&nbsp;@so_ecc<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;object&nbsp;IN&nbsp;@pr_object<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;(&nbsp;(&nbsp;pgmid&nbsp;EQ&nbsp;'LIMU'&nbsp;AND&nbsp;object&nbsp;IN&nbsp;(&nbsp;'FUNC',&nbsp;'REPS',&nbsp;'WAPP'&nbsp;,&nbsp;'METH'&nbsp;)&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OR&nbsp;(&nbsp;pgmid&nbsp;EQ&nbsp;'R3TR'&nbsp;AND&nbsp;object&nbsp;=&nbsp;'PROG'&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br />
&nbsp;&nbsp;&nbsp;SELECT&nbsp;e1~trkorr<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;et~as4text<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;e1~pgmid<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;e1~object<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;ef~devclass<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;e1~obj_name<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;e0~as4user<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;e0~as4date<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;e0~as4time<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;+e071&nbsp;AS&nbsp;e1<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JOIN&nbsp;e070&nbsp;&nbsp;AS&nbsp;e0<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ON&nbsp;e1~trkorr&nbsp;&nbsp;&nbsp;&nbsp;EQ&nbsp;e0~trkorr<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LEFT&nbsp;OUTER&nbsp;JOIN&nbsp;e07t&nbsp;AS&nbsp;et<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ON&nbsp;en~funcname&nbsp;&nbsp;EQ&nbsp;e1~obj_name<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;e1~object&nbsp;&nbsp;&nbsp;&nbsp;EQ&nbsp;'FUNC'<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LEFT&nbsp;OUTER&nbsp;JOIN&nbsp;tadir&nbsp;AS&nbsp;ta1<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ON&nbsp;ta1~obj_name&nbsp;EQ&nbsp;en~area<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;ta1~object&nbsp;&nbsp;&nbsp;EQ&nbsp;'FUGR'<br />
&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;(&nbsp;et~langu&nbsp;EQ&nbsp;'3'<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OR&nbsp;(&nbsp;et~langu&nbsp;EQ&nbsp;'E'&nbsp;AND&nbsp;NOT&nbsp;EXISTS&nbsp;(&nbsp;SELECT&nbsp;1<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;e07t&nbsp;AS&nbsp;et2<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;et2~trkorr&nbsp;EQ&nbsp;e1~trkorr<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;et2~langu&nbsp;EQ&nbsp;'3'&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OR&nbsp;(&nbsp;NOT&nbsp;EXISTS&nbsp;(&nbsp;SELECT&nbsp;1<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;e07t&nbsp;AS&nbsp;et3<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;et3~trkorr&nbsp;EQ&nbsp;e1~trkorr<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;et3~langu&nbsp;IN&nbsp;('3',&nbsp;'E')<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTO&nbsp;CORRESPONDING&nbsp;FIELDS&nbsp;OF&nbsp;TABLE&nbsp;@pt_ecc.<br />
<br />
ENDFORM.<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;Form&nbsp;get_prog_dev_in_ecc<br />
*&---------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM get_prog_dev_in_ecc USING    pt_itab TYPE gty_t_itab<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CHANGING&nbsp;pt_ecc&nbsp;&nbsp;TYPE&nbsp;gty_t_version<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv_subrc.<br />
<br />
&nbsp;&nbsp;SORT&nbsp;pt_ecc&nbsp;BY&nbsp;obj_name.<br />
<br />
&nbsp;&nbsp;DELETE&nbsp;ADJACENT&nbsp;DUPLICATES&nbsp;FROM&nbsp;pt_ecc&nbsp;COMPARING&nbsp;pgmid&nbsp;object&nbsp;obj_name.<br />
<br />
&nbsp;&nbsp;LOOP&nbsp;AT&nbsp;pt_itab&nbsp;INTO&nbsp;DATA(ps_itab).<br />
&nbsp;&nbsp;&nbsp;&nbsp;READ&nbsp;TABLE&nbsp;pt_ecc&nbsp;ASSIGNING&nbsp;FIELD-SYMBOLS(&lt;ps_ecc&gt;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WITH&nbsp;KEY&nbsp;obj_name&nbsp;=&nbsp;ps_itab-obj_name&nbsp;BINARY&nbsp;SEARCH.<br />
&nbsp;&nbsp;&nbsp;&nbsp;IF&nbsp;sy-subrc&nbsp;EQ&nbsp;0.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CLEAR&nbsp;&lt;ps_ecc&gt;-devclass.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ps_ecc&gt;-devclass&nbsp;=&nbsp;ps_itab-devclass.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ENDIF.<br />
&nbsp;&nbsp;ENDLOOP.<br />
<br />
&nbsp;&nbsp;LOOP&nbsp;AT&nbsp;pt_ecc&nbsp;ASSIGNING&nbsp;FIELD-SYMBOLS(&lt;ps_dev_ecc&gt;).<br />
&nbsp;&nbsp;&nbsp;&nbsp;CHECK&nbsp;&lt;ps_dev_ecc&gt;-devclass&nbsp;IS&nbsp;INITIAL.<br />
&nbsp;&nbsp;&nbsp;&nbsp;DATA&nbsp;:&nbsp;progname&nbsp;TYPE&nbsp;trdir-name.<br />
&nbsp;&nbsp;&nbsp;&nbsp;progname&nbsp;=&nbsp;&lt;ps_dev_ecc&gt;-obj_name(40).<br />
&nbsp;&nbsp;&nbsp;&nbsp;CALL&nbsp;FUNCTION&nbsp;'RS_PROGRAM_GET_DEVCLASS'<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EXPORTING<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;progname&nbsp;=&nbsp;progname<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IMPORTING<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;devclass&nbsp;=&nbsp;&lt;ps_dev_ecc&gt;-devclass.<br />
&nbsp;&nbsp;ENDLOOP.<br />
<br />
&nbsp;&nbsp;pv_subrc&nbsp;=&nbsp;sy-subrc.<br />
&nbsp;&nbsp;CHECK&nbsp;pv_subrc&nbsp;IS&nbsp;INITIAL.<br />
<br />
ENDFORM.<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;Form&nbsp;select_fugr_to_func<br />
*&---------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM select_fugr_to_func USING    pr_object    TYPE STANDARD TABLE<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CHANGING&nbsp;pt_e_enlfdir&nbsp;TYPE&nbsp;gty_t_enlfdir.<br />
<br />
&nbsp;&nbsp;CLEAR&nbsp;:&nbsp;pt_e_enlfdir[].<br />
<br />
&nbsp;&nbsp;SELECT&nbsp;DISTINCT<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ta_fugr~devclass&nbsp;AS&nbsp;devclass<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;e0~trkorr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AS&nbsp;trkorr<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;et~as4text&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AS&nbsp;as4text<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;'R3TR'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AS&nbsp;pgmid<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;'FUGR'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AS&nbsp;object<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;e1~obj_name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AS&nbsp;obj_name<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;e1~obj_name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AS&nbsp;funcgroup<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;e0~as4user&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AS&nbsp;as4user<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;e0~as4date&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AS&nbsp;as4date<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;e0~as4time&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AS&nbsp;as4time<br />
&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;e071&nbsp;AS&nbsp;e1<br />
&nbsp;&nbsp;&nbsp;&nbsp;JOIN&nbsp;e070&nbsp;AS&nbsp;e0<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ON&nbsp;e0~trkorr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EQ&nbsp;e1~trkorr<br />
&nbsp;&nbsp;&nbsp;&nbsp;LEFT&nbsp;JOIN&nbsp;tadir&nbsp;AS&nbsp;ta~fugr<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ON&nbsp;ta_fugr~pgmid&nbsp;&nbsp;&nbsp;&nbsp;EQ&nbsp;'R3TR'<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;ta_fugr~object&nbsp;&nbsp;&nbsp;EQ&nbsp;'FUGR'<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;ta_fugr~obj_name&nbsp;EQ&nbsp;e1~obj_name<br />
&nbsp;&nbsp;&nbsp;&nbsp;LEFT&nbsp;JOIN&nbsp;e07t&nbsp;AS&nbsp;et<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ON&nbsp;et~trkorr&nbsp;EQ&nbsp;e0~trkorr<br />
&nbsp;&nbsp;&nbsp;WHERE&nbsp;e1~pgmid&nbsp;&nbsp;EQ&nbsp;'R3TR'<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;e1~object&nbsp;EQ&nbsp;'FUGR'<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;e1~trkorr&nbsp;IN&nbsp;@so_ecc<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;e1~boejct&nbsp;IN&nbsp;@pr_object<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;UNION<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;SELECT&nbsp;DISTINCT<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ta_fugr~devclass&nbsp;AS&nbsp;devclass<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;e0~trkorr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AS&nbsp;trkorr<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;et~as4text&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AS&nbsp;as4text<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;'LIMU'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AS&nbsp;pgmid<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;'FUNC'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AS&nbsp;object<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;e1~obj_name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AS&nbsp;obj_name<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;e1~obj_name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AS&nbsp;funcgroup<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;e0~as4user&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AS&nbsp;as4user<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;e0~as4date&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AS&nbsp;as4date<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;e0~as4time&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AS&nbsp;as4time<br />
&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;e071&nbsp;AS&nbsp;e1<br />
&nbsp;&nbsp;&nbsp;&nbsp;JOIN&nbsp;e070&nbsp;AS&nbsp;e0<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ON&nbsp;e0~trkorr&nbsp;EQ&nbsp;e1~trkorr<br />
&nbsp;&nbsp;&nbsp;&nbsp;JOIN&nbsp;enlfdir&nbsp;&nbsp;&nbsp;&nbsp;AS&nbsp;ef<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ON&nbsp;ef~area&nbsp;EQ&nbsp;e1~obj_name<br />
&nbsp;&nbsp;&nbsp;&nbsp;LEFT&nbsp;JOIN&nbsp;tadir&nbsp;AS&nbsp;ta_fugr<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ON&nbsp;ta_fugr~pgmid&nbsp;&nbsp;&nbsp;&nbsp;EQ&nbsp;'R3TR'<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;ta_fugr~object&nbsp;&nbsp;&nbsp;EQ&nbsp;'FUGR'<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;ta_fugr~obj_name&nbsp;EQ&nbsp;ef~area<br />
&nbsp;&nbsp;&nbsp;&nbsp;LEFT&nbsp;JOIN&nbsp;e07t&nbsp;AS&nbsp;et<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ON&nbsp;et~trkorr&nbsp;EQ&nbsp;e0~trkorr<br />
&nbsp;&nbsp;&nbsp;WHERE&nbsp;e1~pgmid&nbsp;&nbsp;EQ&nbsp;'R3TR'<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;e1~object&nbsp;EQ&nbsp;'FUGR'<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;e1~trkorr&nbsp;IN&nbsp;@so_ecc<br />
&nbsp;&nbsp;&nbsp;&nbsp;INTO&nbsp;CORRESPONDING&nbsp;FIELDS&nbsp;OF&nbsp;TABLE&nbsp;@pt_e_enlfidr.<br />
ENDFORM.<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;Form&nbsp;select_gt_ecc_with_enlfdir<br />
*&---------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM select_gt_ecc_with_enlfdir USING    pt_e_enlfdir TYPE gty_t_enlfdir<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CHANGING&nbsp;pt_ecc&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TYPE&nbsp;gty_t_version<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv_subrc.<br />
<br />
&nbsp;&nbsp;pv_subrc&nbsp;=&nbsp;sy-subrc.<br />
&nbsp;&nbsp;CHECK&nbsp;pv_subrc&nbsp;IS&nbsp;INITIAL.<br />
<br />
&nbsp;&nbsp;pt_ecc&nbsp;=&nbsp;VALUE&nbsp;#(&nbsp;BASE&nbsp;pt_ecc&nbsp;FOR&nbsp;ps_e_enf&nbsp;IN&nbsp;pt_e_enlfdir<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&nbsp;CORRESPONDING&nbsp;#(&nbsp;ps_e_enf&nbsp;)&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br />
ENDFORM.<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;Form&nbsp;select_hana<br />
*&---------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM select_hana USING    pr_object TYPE STANDARD TABLE<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CHANGING&nbsp;pv_subrc.<br />
<br />
&nbsp;&nbsp;DATA&nbsp;:&nbsp;lt_h_enlfdir&nbsp;TYPE&nbsp;gty_t_enlfdir.<br />
<br />
&nbsp;&nbsp;PERFORM&nbsp;select_base_of_gt_hana&nbsp;&nbsp;&nbsp;USING&nbsp;&nbsp;&nbsp;&nbsp;pr_object<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CHANGING&nbsp;gt_hana<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv__subrc.<br />
<br />
&nbsp;&nbsp;PERFORM&nbsp;select_limu_form_gt_hana&nbsp;USING&nbsp;&nbsp;&nbsp;&nbsp;gt_hana<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CHANGING&nbsp;lt_h_enlfdir.<br />
<br />
&nbsp;&nbsp;PERFORM&nbsp;add_gt_hana_with_enlfdir&nbsp;USING&nbsp;&nbsp;&nbsp;&nbsp;lt_h_enlfdir<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CHANGING&nbsp;gt_hana<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv_subrc.<br />
ENDFORM.<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;Form&nbsp;select_hana<br />
*&---------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM select_base_of_gt_hana USING    pr_object TYPE STANDARD TABLE<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CHANGING&nbsp;pt_hana&nbsp;&nbsp;&nbsp;TYPE&nbsp;gty_t_version<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv_subrc.<br />
<br />
&nbsp;&nbsp;SELECT&nbsp;e0~trkorr<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;e1~pgmid<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;e1~object<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;e1~obj_name<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;et~as4text<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;e0~as4user<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;e0~as4date<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;e0~as4time<br />
&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;e071&nbsp;AS&nbsp;e1<br />
&nbsp;&nbsp;&nbsp;&nbsp;JOIN&nbsp;e070&nbsp;AS&nbsp;e0<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ON&nbsp;e0~trkorr&nbsp;EQ&nbsp;e1~trkorr<br />
&nbsp;&nbsp;&nbsp;&nbsp;LEFT&nbsp;OUTER&nbsp;JOIN&nbsp;e07t&nbsp;AS&nbsp;et<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ON&nbsp;et~trkorr&nbsp;=&nbsp;e1~trkorr<br />
&nbsp;&nbsp;&nbsp;WHERE&nbsp;(&nbsp;&nbsp;&nbsp;e1~trkorr&nbsp;IN&nbsp;@so_hana<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OR&nbsp;e1~trkorr&nbsp;IN&nbsp;@so_def<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;e1~object&nbsp;IN&nbsp;@pr_object<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;(<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e1~pgmid&nbsp;&nbsp;EQ&nbsp;'LIMU'<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;e1~object&nbsp;IN&nbsp;(&nbsp;'FUNC',&nbsp;'REPS',&nbsp;'WAPP',&nbsp;'METH'&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OR<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e1~pgmid&nbsp;&nbsp;EQ&nbsp;'R3TR'<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;e1~object&nbsp;IN&nbsp;('PROG',&nbsp;'FUGR'&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;(&nbsp;et~langu&nbsp;EQ&nbsp;'3'<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OR&nbsp;(&nbsp;et~langu&nbsp;EQ&nbsp;'E'&nbsp;AND&nbsp;NOT&nbsp;EXISTS&nbsp;(&nbsp;SELECT&nbsp;1<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;e07t&nbsp;AS&nbsp;et2<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;et2~trkorr&nbsp;EQ&nbsp;e1~trkorr<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;et2~langu&nbsp;EQ&nbsp;'3'&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OR&nbsp;(&nbsp;NOT&nbsp;EXISTS&nbsp;(&nbsp;SELECT&nbsp;1<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;e07t&nbsp;AS&nbsp;et3<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;et3~trkorr&nbsp;EQ&nbsp;e1~trkorr<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;et3~langu&nbsp;IN&nbsp;('3',&nbsp;'E')<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br />
&nbsp;&nbsp;&nbsp;ORDER&nbsp;BY&nbsp;e0~as4date&nbsp;&nbsp;DESCENDING<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;e0~as4time&nbsp;DESCENDING<br />
&nbsp;&nbsp;&nbsp;&nbsp;INTO&nbsp;CORRESPONDING&nbsp;FIELDS&nbsp;OF&nbsp;TABLE&nbsp;@pt_hana<br />
<br />
&nbsp;&nbsp;&nbsp;pv_subrc&nbsp;=&nbsp;sy-subrc.<br />
&nbsp;&nbsp;CHECK&nbsp;pv_subrc&nbsp;IS&nbsp;INITIAL.<br />
<br />
ENDFORM.<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;Form&nbsp;select_limu_from_gt_hana<br />
*&---------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM select_limu_from_gt_hana USING    pt_hana      TYPE gty_t_version<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CHANGING&nbsp;pt_h_enlfdir&nbsp;TYPE&nbsp;gty_t_enlfdir.<br />
<br />
&nbsp;&nbsp;SELECT&nbsp;DISTINCT<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ha~trkorr<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;ha~as4text<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;'LIMU'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AS&nbsp;pgmid<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;'FUNC'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AS&nbsp;object<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;ha~as4user<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;ha~as4date<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;ha~as4time<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;ef~funcanme&nbsp;AS&nbsp;obj_name<br />
&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;@pt_hana&nbsp;&nbsp;AS&nbsp;ha<br />
&nbsp;&nbsp;&nbsp;&nbsp;JOIN&nbsp;enlfdir&nbsp;&nbsp;&nbsp;AS&nbsp;ef<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ON&nbsp;ha~obj_name&nbsp;EQ&nbsp;ef~area<br />
&nbsp;&nbsp;&nbsp;&nbsp;LEFT&nbsp;JOIN&nbsp;e071&nbsp;AS&nbsp;e1<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ON&nbsp;e1~obj_name&nbsp;EQ&nbsp;ef~funcname<br />
&nbsp;&nbsp;&nbsp;ORDER&nbsp;BY&nbsp;ha~as4date&nbsp;DESCENDING<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;ha~as4time&nbsp;DESCENDING<br />
&nbsp;&nbsp;&nbsp;&nbsp;INTO&nbsp;CORRESPONDING&nbsp;FIELDS&nbsp;OF&nbsp;TABLE&nbsp;@pt_h_enlfdir.<br />
<br />
ENDFORM.<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;Form&nbsp;add_gt_hana_with_enlfdir<br />
*&---------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM add_gt_hana_with_enlfdir USING    pt_h_enlfdir TYPE gty_t_enlfdir<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CHANGING&nbsp;pt_hana&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TYPE&nbsp;gty_t_version<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv_subrc.<br />
<br />
&nbsp;&nbsp;pv_subrc&nbsp;=&nbsp;sy-subrc.<br />
&nbsp;&nbsp;CHECK&nbsp;pv_subrc&nbsp;IS&nbsp;INITIAL.<br />
<br />
&nbsp;&nbsp;pt_hana&nbsp;=&nbsp;VALUE&nbsp;#(&nbsp;BASE&nbsp;pt_hana&nbsp;FOR&nbsp;ps_h_enlf&nbsp;IN&nbsp;pt_h_enlfdir<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&nbsp;CORRESPONDING&nbsp;#(&nbsp;ps_h_enlf&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br />
<br />
ENDFORM.<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;Form&nbsp;set_data<br />
*&---------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM set_data .<br />
<br />
&nbsp;&nbsp;DATA&nbsp;:&nbsp;ls_result&nbsp;TYPE&nbsp;gty_s_result.<br />
<br />
&nbsp;&nbsp;SORT&nbsp;gt_ecc&nbsp;BY&nbsp;pgmid&nbsp;object&nbsp;obj_name&nbsp;&nbsp;as4date&nbsp;DESCENDING<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;as4time&nbsp;DESCENDING.<br />
&nbsp;&nbsp;SORT&nbsp;gt_hana&nbsp;BY&nbsp;pgmid&nbsp;object&nbsp;obj_name&nbsp;as4date&nbsp;DESCENDING<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;as4time&nbsp;DESCENDING.<br />
<br />
&nbsp;&nbsp;DELETE&nbsp;ADJACENT&nbsp;DUPLICATES&nbsp;FROM&nbsp;gt_ecc&nbsp;&nbsp;COMPARING&nbsp;pgmid&nbsp;object&nbsp;obj_name.<br />
&nbsp;&nbsp;DELETE&nbsp;ADJACENT&nbsp;DUPLICATES&nbsp;FROM&nbsp;gt_hana&nbsp;COMPARING&nbsp;pgmid&nbsp;object&nbsp;obj_name.<br />
<br />
&nbsp;&nbsp;LOOP&nbsp;AT&nbsp;gt_ecc&nbsp;INTO&nbsp;DATA(ls_ecc).<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;CLEAR&nbsp;:&nbsp;ls_result.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;READ&nbsp;TABLE&nbsp;gt_hana&nbsp;INTO&nbsp;DATA(ls_hana)&nbsp;WITH&nbsp;KEY&nbsp;pgmid&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;ls_ecc-pgmid<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;object&nbsp;&nbsp;&nbsp;=&nbsp;ls_ecc-obejct<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;obj_name&nbsp;=&nbsp;ls_ecc&nbsp;obj_name&nbsp;BINARY&nbsp;SEARCH.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;CHECK&nbsp;sy-subrc&nbsp;IS&nbsp;INITIAL.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;ls_result-devclass_ecc&nbsp;=&nbsp;ls_ecc-devclass.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;ls_result-pgmid_hana&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;ls_hana-pgmid.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ls_result-object_hana&nbsp;&nbsp;&nbsp;=&nbsp;ls_hana-object.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ls_result-obj_name_hana&nbsp;=&nbsp;ls_hana-obj_name.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;ls_result-trkorr_ecc&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;ls_ecc-trkorr.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ls_result-as4text_ecc&nbsp;&nbsp;&nbsp;=&nbsp;ls_ecc-as4text.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ls_result-as4user_ecc&nbsp;&nbsp;&nbsp;=&nbsp;ls_ecc-as4user.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ls_result-as4date_ecc&nbsp;&nbsp;&nbsp;=&nbsp;ls_ecc-as4date.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ls_result-as4time_ecc&nbsp;&nbsp;&nbsp;=&nbsp;ls_ecc-as4time.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;ls_result-trkorr_hana&nbsp;&nbsp;&nbsp;=&nbsp;ls_hana-trkorr.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ls_result-as4text_hana&nbsp;&nbsp;=&nbsp;ls_hana-as4text.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ls_result-as4user_hana&nbsp;&nbsp;=&nbsp;ls_hana-as4user.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ls_result-as4date_hana&nbsp;&nbsp;=&nbsp;ls_hana-as4date.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ls_result-as4time_hana&nbsp;&nbsp;=&nbsp;ls_hana-as4time.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;READ&nbsp;TABLE&nbsp;gt_devclass&nbsp;INTO&nbsp;DATA(ls_cls)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WITH&nbsp;TABLE&nbsp;KEY&nbsp;idx01<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;COMPONENTS&nbsp;devclass&nbsp;=&nbsp;ls_result-devclass_ecc.<br />
&nbsp;&nbsp;&nbsp;&nbsp;IF&nbsp;sy-subrc&nbsp;IS&nbsp;INITIAL.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_result-deper&nbsp;=&nbsp;ls_cls-developer.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CLEAR&nbsp;ls_cls.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ENDIF.<br />
&nbsp;&nbsp;&nbsp;&nbsp;APPEND&nbsp;ls_result&nbsp;&nbsp;TO&nbsp;gt_result.<br />
&nbsp;&nbsp;ENDLOOP.<br />
<br />
&nbsp;&nbsp;SORT&nbsp;gt_result&nbsp;BY&nbsp;deper&nbsp;devclass_ecc&nbsp;pgmid_hana&nbsp;object_hana&nbsp;obj_name_hana.<br />
<br />
&nbsp;&nbsp;DESCRIBE&nbsp;TABLE&nbsp;gt_result&nbsp;LINES&nbsp;gv_lines.<br />
&nbsp;&nbsp;MESSAGE&nbsp;s006&nbsp;WITH&nbsp;gv_lines.<br />
<br />
ENDFORM.<br />
            </div>
          </td>
        </tr>
      </table>
      </td>
      </tr>
   <tr>
<td class="footer">Extracted by Mass Download version 1.5.5 - E.G.Mellodew. 1998-2025. Sap Release 756</td>
   </tr>
</table>
</body>
</html>
